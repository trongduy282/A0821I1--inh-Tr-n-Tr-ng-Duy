<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--<link rel="stylesheet" href="/css/bootstrap.min.css">-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div class="container mt-4 mb-4">
    <h1 class="text-center text-danger my-3">Student list</h1>

<!--Form search 1 trường cách James -->
<!--    <form>-->
<!--        Search by Name:-->
<!--        <input name="search" type="text"/>-->
<!--        <input type="submit" value="Search"/>-->
<!--    </form>-->


    <a th:href="@{/student/create}" class="btn btn-primary btn-custom">
        <i class="fa fa-plus-circle" aria-hidden="true"></i> Add new student
    </a>

    <form th:action="@{'/student/list'}" method="get">
        <input type="text" hidden th:value="${students.number}" name="page">
        <input type="text" hidden th:value="${searchBy}" name="searchBy">
        <input type="text" hidden th:value="${searchVal}" name="searchVal">
        <select name="sortBy">
            <option value="name">Tên</option>
            <option value="email">Email</option>
        </select>
        <button type="submit">Sort</button>
    </form>

    <form th:action="@{'/student/list'}" method="get">
        <input type="text" hidden th:value="${students.number}" name="page">
        <input type="text" hidden th:value="${sortBy}" name="sortBy">
        <select name="searchBy">
            <option value="name">Tên</option>
            <option value="email">Email</option>
        </select>
        <input type="text" name="searchVal">
        <button type="submit">Search</button>
    </form>

    <table class="table table-striped">
        <tr class="fw-bold bg-success">
            <td>STT</td>
            <td>Student Name</td>
            <td>Email</td>
            <td>Gender</td>
            <td>Phone Number</td>
            <td>Birthday</td>
            <td>ClassName</td>
            <td style="width: 200px">Action</td>
        </tr>

        <tr th:each="student,status: ${students}">
            <td th:text="${status.count + students.number * 3}"></td>
            <td th:text="${student.name}"></td>
            <td th:text="${student.email}"></td>
            <td th:text="${student.gender}?'Nam':'Nữ'"></td>
            <td th:text="${student.phoneNumber}"></td>
            <!--            <td th:text="${student.birthday}"></td>-->
            <td th:text="*{#dates.format(student.birthday, 'yyyy-MM-dd')}"></td>
            <td th:text="${student.className.name}"></td>
            <!--        <td th:text="${students.category.name}"></td>-->
            <!--            <td>-->
            <!--                &lt;!&ndash;                            <a th:href="@{'/delete/' + ${student.id}}" class="btn btn-danger">Delete</a>&ndash;&gt;-->
            <!--                <a th:href="@{'/edit/' + ${student.id}}" class="btn btn-warning">Edit</a>-->
            <!--                &lt;!&ndash;                    <a th:href="@{/edit/{id}(id=${blog.id})}">Edit</a>&ndash;&gt;-->
            <!--            </td>-->
            <td style="width: 200px">
                <a th:href="@{'/student/delete/' + ${student.id}}" class="btn btn-danger">Delete</a>
                <!--                <button type="button" class="btn btn-danger delete" data-toggle="modal" data-target="#exampleModal"-->
                <!--                        th:data-id="${student.id}"-->
                <!--                        th:data-name="${student.name}"-->
                <!--                >-->
                <!--                    Delete-->
                <!--                </button>-->
                <a th:href="@{'/student/edit/' + ${student.id}}" class="btn btn-warning">Edit</a>
                <!--                <button type="button" class="btn btn-danger delete" data-toggle="modal" data-target="#exampleModal"  th:data-id="${student.id}" th:data-name="${student.name}">-->
                <!--                    Delete-->
                <!--                </button>-->
                <!--                    <a th:href="@{/edit/{id}(id=${blog.id})}">Edit</a>-->
            </td>
        </tr>
    </table>
    <!--    <table class="table">-->
    <!--        <thead>-->
    <!--            <tr>-->
    <!--                <th scope="col">#</th>-->
    <!--                <th scope="col">Tên</th>-->
    <!--                <th scope="col">Email</th>-->
    <!--            </tr>-->
    <!--        </thead>-->
    <!--        <tbody>-->
    <!--            <tr th:each="student, status : ${students}">-->
    <!--                <td th:text="${status.count}"></td>-->
    <!--                <td th:text="${student.name}"></td>-->
    <!--                <td th:text="${student.email}"></td>-->
    <!--            </tr>-->
    <!--        </tbody>-->
    <!--    </table>-->

    <!--    //Code phân trang của a Linh-->

    <!--        <div th:if="${students.totalPages > 0}" class="pagination"-->
    <!--             th:each="pageNumber : ${pageNumbers}">-->
    <!--            <a th:href="@{/listpaging(size=${students.size}, page=${pageNumber})}"-->
    <!--               th:text=${pageNumber}-->
    <!--               th:class="${pageNumber==students.number + 1} ? active"></a>-->
    <!--        </div>-->

    <!--        Code phân trang của Toàn-->
    <div>
        <!--             localhost:8080/?page=1                 -->
        <!--            Trang trước                             -->
        <a th:href="@{'/student/list'(page = ${students.number - 1}, sortBy = ${sortBy}, searchBy = ${searchBy}, searchVal = ${searchVal})}"
           th:if="${students.hasPrevious()}">Previous</a>
        <!--            Trang hiện tại                          -->
        <span th:text="${students.number + 1}"></span>
        /
        <span th:text="${students.totalPages}"></span>
        <!--            Trang sau                             -->
        <a th:href="@{'/student/list'(page = ${students.number + 1}, sortBy = ${sortBy}, searchBy = ${searchBy}, searchVal = ${searchVal})}"
           th:if="${students.hasNext()}">Next</a>
    </div>
</div>

<!--<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"-->
<!--     aria-hidden="true">-->
<!--    <div class="modal-dialog" role="document">-->
<!--        <form method="post" action="/delete">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-header">-->
<!--                    <h5 class="modal-title" id="exampleModalLabel">Do you want delele record :</h5>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    Id : <h4 class="id_student"></h4>-->
<!--                    Name : <h4 class="name_student"></h4>-->
<!--                </div>-->
<!--                <div class="modal-footer">-->
<!--                    <input name="id" id="id_product" hidden>-->
<!--                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>-->
<!--                    <button type="submit" class="btn btn-danger">Xóa</button>-->
<!--                </div>-->
<!--            </div>-->
<!--        </form>-->
<!--    </div>-->
<!--</div>-->
<!--<script>-->
<!--    $(".delete").click(function () {-->
<!--        $("[class='id_student']").text($(this).data('id'));-->
<!--        $("[class='name_student']").text($(this).data('name'));-->
<!--        $('#id_product').val($(this).data('id'));-->
<!--    });-->
<!--</script>-->
</body>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</html>